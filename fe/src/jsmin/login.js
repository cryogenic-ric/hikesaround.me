function global_ajax_cursor_change(){$("html").bind("ajaxStart",function(){$(this).addClass("busy")}).bind("ajaxStop",function(){$(this).removeClass("busy")})}function PageVM(){var self=this;self.status=ko.observable("Signup"),self.error=ko.observable(""),self.login_status=ko.observable("Log In"),self.login_error=ko.observable()}function on_login_success(){$("#login-btn").attr("disabled",!0),pagevm.login_status("Success: Redirecting..")}function on_login_err(resp){var resp=resp.responseJSON;pagevm.login_error(resp.result.msg),pagevm.login_status("Try again"),console.log(resp)}function on_login(){pagevm.error(null);var url=apihost+"/api/users/sessions/",data={email:$("#bizemail").val(),password:$("#bizpass").val()};apipost(url,data,on_login_success,on_login_err)}var pagevm=new PageVM;$("#login-form").submit(function(event){return pagevm.status("login in progress .."),on_login(),!1}),window.onload=function(){ko.punches.enableAll(),ko.applyBindings(pagevm)};